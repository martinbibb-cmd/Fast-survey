<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Heating Survey Planner</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="app-shell">
    <header class="top-bar">
      <div class="brand">
        <span class="brand-mark" aria-hidden="true">ðŸ”¥</span>
        <h1>Heating Survey Planner</h1>
      </div>
      <button class="ghost" id="resetSelections" type="button">Reset survey</button>
    </header>

    <main class="content">
      <section class="panel" aria-labelledby="accessHeading">
        <div class="panel-head">
          <div>
            <p class="step-count">Step 1</p>
            <h2 id="accessHeading">Access equipment required</h2>
          </div>
          <p class="panel-hint">Tap all that apply for this property.</p>
        </div>
        <div class="card-grid" id="accessGrid" role="group" aria-describedby="accessHeading"></div>
      </section>

      <section class="panel" aria-labelledby="boilerHeading">
        <div class="panel-head">
          <div>
            <p class="step-count">Step 2</p>
            <h2 id="boilerHeading">Existing boiler type</h2>
          </div>
          <p class="panel-hint">Choose the boiler type currently installed.</p>
        </div>
        <div class="choice-group" id="boilerChoices" role="radiogroup" aria-labelledby="boilerHeading"></div>
      </section>

      <section class="panel" aria-labelledby="flueHeading">
        <div class="panel-head">
          <div>
            <p class="step-count">Step 3</p>
            <h2 id="flueHeading">Flue type &amp; exit point</h2>
          </div>
          <p class="panel-hint">Select one option for each question.</p>
        </div>
        <div class="flue-grid">
          <fieldset class="fieldset" id="flueTypeGroup">
            <legend>Flue type</legend>
            <div class="choice-group" role="radiogroup" aria-labelledby="flueTypeGroup"></div>
          </fieldset>
          <fieldset class="fieldset" id="flueExitGroup">
            <legend>Exit point</legend>
            <div class="choice-group" role="radiogroup" aria-labelledby="flueExitGroup"></div>
          </fieldset>
        </div>
      </section>

      <section class="panel" aria-labelledby="locationHeading">
        <div class="panel-head">
          <div>
            <p class="step-count">Step 4</p>
            <h2 id="locationHeading">Existing boiler location</h2>
          </div>
          <p class="panel-hint">Tap a hotspot to note the room for the existing boiler.</p>
        </div>
        <div class="house-scene">
          <div class="house-illustration" id="houseHotspots" role="listbox" aria-labelledby="locationHeading"></div>
        </div>
      </section>

      <section class="panel" aria-labelledby="newSetupHeading">
        <div class="panel-head">
          <div>
            <p class="step-count">Step 5</p>
            <h2 id="newSetupHeading">New boiler setup</h2>
          </div>
          <p class="panel-hint">Plan the proposed location, type and flue route for the replacement boiler.</p>
        </div>

        <div class="new-setup">
          <div>
            <h3>New boiler location</h3>
            <p class="panel-subhint">Tap a hotspot to choose where the new boiler will be fitted.</p>
            <div class="house-scene">
              <div class="house-illustration compact" id="newHouseHotspots" role="listbox" aria-labelledby="newSetupHeading"></div>
            </div>
          </div>

          <div class="new-setup-controls">
            <fieldset class="fieldset" id="newBoilerTypeGroup">
              <legend>New boiler type</legend>
              <div class="choice-group" id="newBoilerChoices" role="radiogroup" aria-labelledby="newBoilerTypeGroup"></div>
            </fieldset>

            <fieldset class="fieldset" id="newFlueDirectionGroup">
              <legend>New flue direction</legend>
              <div class="choice-group" id="newFlueDirectionChoices" role="radiogroup" aria-labelledby="newFlueDirectionGroup"></div>
            </fieldset>

            <section class="flue-builder" aria-labelledby="flueBuilderHeading">
              <div class="builder-head">
                <h3 id="flueBuilderHeading">Bends &amp; extensions</h3>
                <p class="panel-subhint">Add 45Â° or 90Â° bends and 1&nbsp;m extensions in the order required. The flue route updates as you add components.</p>
              </div>
              <div class="builder-controls" role="group" aria-label="Add fittings to the flue route">
                <button type="button" class="chip-button" data-component="extension">
                  <span class="chip-icon" aria-hidden="true"></span>
                  1&nbsp;m extension
                </button>
                <button type="button" class="chip-button" data-component="bend45">
                  <span class="chip-icon" aria-hidden="true"></span>
                  45Â° bend
                </button>
                <button type="button" class="chip-button" data-component="bend90">
                  <span class="chip-icon" aria-hidden="true"></span>
                  90Â° bend
                </button>
              </div>
              <div class="flue-preview" id="fluePathPreview" aria-hidden="true"></div>
              <ol class="component-list" id="flueComponentList" aria-live="polite"></ol>
              <div class="builder-actions">
                <button type="button" class="chip-button primary" id="undoFlueComponent">Undo last</button>
                <button type="button" class="chip-button secondary" id="clearFlueComponents">Clear all</button>
              </div>
            </section>
          </div>
        </div>
      </section>
    </main>

    <aside class="summary" aria-live="polite">
      <h2>Survey summary</h2>
      <ul id="summaryList"></ul>
    </aside>
  </div>

  <script src="app.js" type="module"></script>
</body>
</html>
