<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Heating Survey Planner</title>
  <meta name="theme-color" content="#1e3a8a">
  <link rel="manifest" href="manifest.webmanifest">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="app-shell">
    <header class="top-bar">
      <div class="brand">
        <span class="brand-mark" aria-hidden="true">ðŸ”¥</span>
        <h1>Heating Survey Planner</h1>
      </div>
      <div class="top-actions">
        <a class="ghost" href="output.html" target="_blank" rel="noopener">Open output page</a>
        <button class="ghost" id="resetSelections" type="button">Reset survey</button>
      </div>
    </header>

    <main class="content">
      <div class="content-grid">
        <aside class="step-nav" id="stepNav" aria-label="Survey steps"></aside>
        <div class="survey-flow">
          <div id="survey-container">
      <section class="panel step-section is-active" id="step-section-1" aria-labelledby="customerNeedsHeading">
        <div class="panel-head">
          <div>
            <p class="step-count">Step 1</p>
            <h2 id="customerNeedsHeading">Customer needs</h2>
          </div>
          <p class="panel-hint">Capture the customer's priorities for their heating system.</p>
        </div>
        <div class="customer-needs-grid" id="customerNeedsControls" role="group" aria-describedby="customerNeedsHeading"></div>
        <div class="section-nav">
          <button type="button" class="section-nav-button next" data-nav="next">Next</button>
        </div>
      </section>

      <section class="panel step-section" id="step-section-2" aria-labelledby="parkingHeading">
        <div class="panel-head">
          <div>
            <p class="step-count">Step 2</p>
            <h2 id="parkingHeading">Parking</h2>
          </div>
          <p class="panel-hint">Record parking availability for deliveries and engineers.</p>
        </div>
        <fieldset class="fieldset" aria-labelledby="parkingHeading">
          <legend>Parking arrangements</legend>
          <div class="choice-group" id="parkingChoices" role="group" aria-labelledby="parkingHeading"></div>
        </fieldset>
        <div class="manual-note" id="parkingNoteField">
          <label class="manual-note-label" for="parkingOtherNote">Other notes</label>
          <textarea id="parkingOtherNote" rows="3" placeholder="Add additional parking notes..."></textarea>
        </div>
        <div class="section-nav">
          <button type="button" class="section-nav-button prev" data-nav="prev">Back</button>
          <button type="button" class="section-nav-button next" data-nav="next">Next</button>
        </div>
      </section>

      <section class="panel step-section" id="step-section-3" aria-labelledby="accessHeading">
        <div class="panel-head">
          <div>
            <p class="step-count">Step 3</p>
            <h2 id="accessHeading">Access equipment required</h2>
          </div>
          <p class="panel-hint">Tap all that apply for this property.</p>
        </div>
        <div class="card-grid" id="accessGrid" role="group" aria-describedby="accessHeading"></div>
        <div class="section-nav">
          <button type="button" class="section-nav-button prev" data-nav="prev">Back</button>
          <button type="button" class="section-nav-button next" data-nav="next">Next</button>
        </div>
      </section>

      <section class="panel step-section" id="step-section-4" aria-labelledby="boilerHeading">
        <div class="panel-head">
          <div>
            <p class="step-count">Step 4</p>
            <h2 id="boilerHeading">Existing boiler type</h2>
          </div>
          <p class="panel-hint">Choose the boiler type currently installed.</p>
        </div>
        <div class="choice-group" id="boilerChoices" role="radiogroup" aria-labelledby="boilerHeading"></div>
        <div class="section-nav">
          <button type="button" class="section-nav-button prev" data-nav="prev">Back</button>
          <button type="button" class="section-nav-button next" data-nav="next">Next</button>
        </div>
      </section>

      <section class="panel step-section" id="step-section-5" aria-labelledby="flueHeading">
        <div class="panel-head">
          <div>
            <p class="step-count">Step 5</p>
            <h2 id="flueHeading">Flue type &amp; exit point</h2>
          </div>
          <p class="panel-hint">Select one option for each question.</p>
        </div>
        <div class="flue-grid">
          <fieldset class="fieldset" id="flueTypeGroup">
            <legend>Flue type</legend>
            <div class="choice-group" role="radiogroup" aria-labelledby="flueTypeGroup"></div>
          </fieldset>
          <fieldset class="fieldset" id="flueExitGroup">
            <legend>Exit point</legend>
            <div class="choice-group" role="radiogroup" aria-labelledby="flueExitGroup"></div>
          </fieldset>
        </div>
        <div class="section-nav">
          <button type="button" class="section-nav-button prev" data-nav="prev">Back</button>
          <button type="button" class="section-nav-button next" data-nav="next">Next</button>
        </div>
      </section>

      <section class="panel step-section" id="step-section-6" aria-labelledby="locationHeading">
        <div class="panel-head">
          <div>
            <p class="step-count">Step 6</p>
            <h2 id="locationHeading">Existing boiler location</h2>
          </div>
          <p class="panel-hint">Tap a hotspot to note the room for the existing boiler.</p>
        </div>
        <div class="house-scene">
          <div class="house-illustration" id="houseHotspots" role="listbox" aria-labelledby="locationHeading"></div>
        </div>
        <div class="section-nav">
          <button type="button" class="section-nav-button prev" data-nav="prev">Back</button>
          <button type="button" class="section-nav-button next" data-nav="next">Next</button>
        </div>
      </section>

      <section class="panel step-section" id="step-section-7" aria-labelledby="newLocationHeading">
        <div class="panel-head">
          <div>
            <p class="step-count">Step 7</p>
            <h2 id="newLocationHeading">New boiler location</h2>
          </div>
          <p class="panel-hint">Tap a hotspot to choose where the new boiler will be fitted.</p>
        </div>
        <div class="house-scene">
          <div class="house-illustration compact" id="newHouseHotspots" role="listbox" aria-labelledby="newLocationHeading"></div>
        </div>
        <div class="section-nav">
          <button type="button" class="section-nav-button prev" data-nav="prev">Back</button>
          <button type="button" class="section-nav-button next" data-nav="next">Next</button>
        </div>
      </section>

      <section class="panel step-section" id="step-section-8" aria-labelledby="newBoilerHeading">
        <div class="panel-head">
          <div>
            <p class="step-count">Step 8</p>
            <h2 id="newBoilerHeading">New boiler type</h2>
          </div>
          <p class="panel-hint">Choose the specification for the replacement boiler.</p>
        </div>
        <fieldset class="fieldset" id="newBoilerTypeGroup">
          <legend>New boiler type</legend>
          <div class="choice-group" id="newBoilerChoices" role="radiogroup" aria-labelledby="newBoilerTypeGroup"></div>
        </fieldset>
        <div class="section-nav">
          <button type="button" class="section-nav-button prev" data-nav="prev">Back</button>
          <button type="button" class="section-nav-button next" data-nav="next">Next</button>
        </div>
      </section>

      <section class="panel step-section" id="step-section-9" aria-labelledby="newFlueHeading">
        <div class="panel-head">
          <div>
            <p class="step-count">Step 9</p>
            <h2 id="newFlueHeading">New flue direction</h2>
          </div>
          <p class="panel-hint">Select the flue direction and build the proposed route.</p>
        </div>
        <div class="new-setup-controls">
          <fieldset class="fieldset" id="newFlueDirectionGroup">
            <legend>New flue direction</legend>
            <div class="choice-group" id="newFlueDirectionChoices" role="radiogroup" aria-labelledby="newFlueDirectionGroup"></div>
          </fieldset>

          <section class="flue-builder" aria-labelledby="flueBuilderHeading">
            <div class="builder-head">
              <h3 id="flueBuilderHeading">Bends &amp; extensions</h3>
              <p class="panel-subhint">Add 45Â° or 90Â° bends and 1&nbsp;m extensions in the order required. The flue route updates as you add components.</p>
            </div>
            <div class="builder-controls" role="group" aria-label="Add fittings to the flue route">
              <button type="button" class="chip-button" data-component="extension">
                <span class="chip-icon" aria-hidden="true"></span>
                1&nbsp;m extension
              </button>
              <button type="button" class="chip-button" data-component="bend45">
                <span class="chip-icon" aria-hidden="true"></span>
                45Â° bend
              </button>
              <button type="button" class="chip-button" data-component="bend90">
                <span class="chip-icon" aria-hidden="true"></span>
                90Â° bend
              </button>
            </div>
            <div class="flue-preview" id="fluePathPreview" aria-hidden="true"></div>
            <ol class="component-list" id="flueComponentList" aria-live="polite"></ol>
            <div class="builder-actions">
              <button type="button" class="chip-button primary" id="undoFlueComponent">Undo last</button>
              <button type="button" class="chip-button secondary" id="clearFlueComponents">Clear all</button>
            </div>
          </section>
        </div>
        <div class="section-nav">
          <button type="button" class="section-nav-button prev" data-nav="prev">Back</button>
          <button type="button" class="section-nav-button next" data-nav="next">Next</button>
        </div>
      </section>

      <section class="panel step-section" id="step-section-10" aria-labelledby="buildingWorkHeading">
        <div class="panel-head">
          <div>
            <p class="step-count">Step 10</p>
            <h2 id="buildingWorkHeading">Building work &amp; making good</h2>
          </div>
          <p class="panel-hint">Select all building work requirements linked to the flue.</p>
        </div>
        <fieldset class="fieldset" id="buildingWorkGroup">
          <legend>Building work</legend>
          <div class="choice-group" id="buildingWorkChoices" role="group" aria-labelledby="buildingWorkGroup"></div>
        </fieldset>
        <div class="section-nav">
          <button type="button" class="section-nav-button prev" data-nav="prev">Back</button>
          <button type="button" class="section-nav-button next" data-nav="next">Next</button>
        </div>
      </section>

      <section class="panel step-section" id="step-section-11" aria-labelledby="condensateHeading">
        <div class="panel-head">
          <div>
            <p class="step-count">Step 11</p>
            <h2 id="condensateHeading">Condensate route</h2>
          </div>
          <p class="panel-hint">Select all condensate discharge arrangements required.</p>
        </div>
        <fieldset class="fieldset" id="condensateRouteGroup">
          <legend>Condensate discharge</legend>
          <div class="choice-group" id="condensateChoices" role="group" aria-labelledby="condensateRouteGroup"></div>
        </fieldset>
        <div class="section-nav">
          <button type="button" class="section-nav-button prev" data-nav="prev">Back</button>
          <button type="button" class="section-nav-button next" data-nav="next">Next</button>
        </div>
      </section>

      <section class="panel step-section" id="step-section-12" aria-labelledby="systemUpgradesHeading">
        <div class="panel-head">
          <div>
            <p class="step-count">Step 12</p>
            <h2 id="systemUpgradesHeading">Heating system works</h2>
          </div>
          <p class="panel-hint">Select all upgrade items required. Use the + or âˆ’ controls for multiples.</p>
        </div>
        <fieldset class="fieldset" id="zoningGroup">
          <legend>Zoning layout</legend>
          <div class="choice-group" id="zoningChoices" role="radiogroup" aria-labelledby="zoningGroup"></div>
        </fieldset>
        <div class="upgrade-grid" id="systemUpgradeGrid" role="group" aria-labelledby="systemUpgradesHeading"></div>
        <div class="section-nav">
          <button type="button" class="section-nav-button prev" data-nav="prev">Back</button>
          <button type="button" class="section-nav-button next" data-nav="next">Next</button>
        </div>
      </section>

      <section class="panel step-section" id="step-section-13" aria-labelledby="cylinderHeading">
        <div class="panel-head">
          <div>
            <p class="step-count">Step 13</p>
            <h2 id="cylinderHeading">Cylinder works</h2>
          </div>
          <p class="panel-hint">Select all cylinder requirements for the installation.</p>
        </div>
        <fieldset class="fieldset" id="cylinderGroup">
          <legend>Cylinder requirements</legend>
          <div class="choice-group" id="cylinderChoices" role="group" aria-labelledby="cylinderGroup"></div>
        </fieldset>
        <div class="section-nav">
          <button type="button" class="section-nav-button prev" data-nav="prev">Back</button>
          <button type="button" class="section-nav-button next" data-nav="next">Next</button>
        </div>
      </section>

      <section class="panel step-section" id="step-section-14" aria-labelledby="controlHeading">
        <div class="panel-head">
          <div>
            <p class="step-count">Step 14</p>
            <h2 id="controlHeading">Customer controls</h2>
          </div>
          <p class="panel-hint">Select all control packages to be provided.</p>
        </div>
        <fieldset class="fieldset" id="controlGroup">
          <legend>Controls supplied</legend>
          <div class="choice-group" id="controlChoices" role="group" aria-labelledby="controlGroup"></div>
        </fieldset>
        <div class="section-nav">
          <button type="button" class="section-nav-button prev" data-nav="prev">Back</button>
          <button type="button" class="section-nav-button next" data-nav="next">Next</button>
        </div>
      </section>

      <section class="panel step-section" id="step-section-15" aria-labelledby="disruptionHeading">
        <div class="panel-head">
          <div>
            <p class="step-count">Step 15</p>
            <h2 id="disruptionHeading">Disruption areas</h2>
          </div>
          <p class="panel-hint">Tap all rooms where works will cause disruption such as lifted floorboards.</p>
        </div>
        <div class="house-scene">
          <div class="house-illustration" id="disruptionHotspots" role="group" aria-labelledby="disruptionHeading"></div>
        </div>
        <div class="section-nav">
          <button type="button" class="section-nav-button prev" data-nav="prev">Back</button>
          <button type="button" class="section-nav-button next" data-nav="next">Next</button>
        </div>
      </section>

      <section class="panel step-section" id="step-section-16" aria-labelledby="doubleLiftHeading">
        <div class="panel-head">
          <div>
            <p class="step-count">Step 16</p>
            <h2 id="doubleLiftHeading">Double handed lift items</h2>
          </div>
          <p class="panel-hint">Select every component that requires two-person lifting.</p>
        </div>
        <fieldset class="fieldset" aria-labelledby="doubleLiftHeading">
          <legend>Components requiring assistance</legend>
          <div class="choice-group" id="doubleLiftChoices" role="group" aria-labelledby="doubleLiftHeading"></div>
        </fieldset>
        <div class="section-nav">
          <button type="button" class="section-nav-button prev" data-nav="prev">Back</button>
          <button type="button" class="section-nav-button next" data-nav="next">Next</button>
        </div>
      </section>

      <section class="panel step-section" id="step-section-17" aria-labelledby="permissionHeading">
        <div class="panel-head">
          <div>
            <p class="step-count">Step 17</p>
            <h2 id="permissionHeading">Permissions</h2>
          </div>
          <p class="panel-hint">Note all permissions required before works can begin.</p>
        </div>
        <fieldset class="fieldset" aria-labelledby="permissionHeading">
          <legend>Permissions needed</legend>
          <div class="choice-group" id="permissionChoices" role="group" aria-labelledby="permissionHeading"></div>
        </fieldset>
        <div class="section-nav">
          <button type="button" class="section-nav-button prev" data-nav="prev">Back</button>
          <button type="button" class="section-nav-button next" data-nav="next">Next</button>
        </div>
      </section>

      <section class="panel step-section" id="step-section-18" aria-labelledby="hazardHeading">
        <div class="panel-head">
          <div>
            <p class="step-count">Step 18</p>
            <h2 id="hazardHeading">Hazards</h2>
          </div>
          <p class="panel-hint">Highlight potential hazards that engineers must plan for.</p>
        </div>
        <fieldset class="fieldset" aria-labelledby="hazardHeading">
          <legend>On-site hazards</legend>
          <div class="choice-group" id="hazardChoices" role="group" aria-labelledby="hazardHeading"></div>
        </fieldset>
        <div class="section-nav">
          <button type="button" class="section-nav-button prev" data-nav="prev">Back</button>
          <button type="button" class="section-nav-button next" data-nav="next">Next</button>
        </div>
      </section>

      <section class="panel step-section" id="step-section-19" aria-labelledby="pipeworkHeading">
        <div class="panel-head">
          <div>
            <p class="step-count">Step 19</p>
            <h2 id="pipeworkHeading">Pipe work requirements</h2>
          </div>
          <p class="panel-hint">Record gas supply, routing, and commissioning notes.</p>
        </div>
        <div class="sectioned-fieldsets" id="pipeworkSections" role="group" aria-labelledby="pipeworkHeading"></div>
        <div class="section-nav">
          <button type="button" class="section-nav-button prev" data-nav="prev">Back</button>
          <button type="button" class="section-nav-button next" data-nav="next">Next</button>
        </div>
      </section>

      <section class="panel step-section" id="step-section-20" aria-labelledby="disruptionCodesHeading">
        <div class="panel-head">
          <div>
            <p class="step-count">Step 20</p>
            <h2 id="disruptionCodesHeading">Disruption requirements</h2>
          </div>
          <p class="panel-hint">Select all preparation and protection measures required.</p>
        </div>
        <fieldset class="fieldset" aria-labelledby="disruptionCodesHeading">
          <legend>Disruption notes</legend>
          <div class="choice-group" id="disruptionCodeChoices" role="group" aria-labelledby="disruptionCodesHeading"></div>
        </fieldset>
        <div class="section-nav">
          <button type="button" class="section-nav-button prev" data-nav="prev">Back</button>
          <button type="button" class="section-nav-button next" data-nav="next">Next</button>
        </div>
      </section>

      <section class="panel step-section" id="step-section-21" aria-labelledby="powerflushHeading">
        <div class="panel-head">
          <div>
            <p class="step-count">Step 21</p>
            <h2 id="powerflushHeading">Powerflushing requirements</h2>
          </div>
          <p class="panel-hint">Choose one option to describe the agreed powerflushing approach.</p>
        </div>
        <fieldset class="fieldset" aria-labelledby="powerflushHeading">
          <legend>Powerflushing outcome</legend>
          <div class="choice-group" id="powerflushChoices" role="radiogroup" aria-labelledby="powerflushHeading"></div>
        </fieldset>
        <div class="section-nav">
          <button type="button" class="section-nav-button prev" data-nav="prev">Back</button>
          <button type="button" class="section-nav-button next" data-nav="next">Next</button>
        </div>
      </section>

      <section class="panel step-section" id="step-section-22" aria-labelledby="customerActionsHeading">
        <div class="panel-head">
          <div>
            <p class="step-count">Step 22</p>
            <h2 id="customerActionsHeading">Customer actions</h2>
          </div>
          <p class="panel-hint">Document actions the customer must complete ahead of installation.</p>
        </div>
        <fieldset class="fieldset" aria-labelledby="customerActionsHeading">
          <legend>Customer responsibilities</legend>
          <div class="choice-group" id="customerActionChoices" role="group" aria-labelledby="customerActionsHeading"></div>
        </fieldset>
        <div class="section-nav">
          <button type="button" class="section-nav-button prev" data-nav="prev">Back</button>
          <button type="button" class="section-nav-button next" data-nav="next">Next</button>
        </div>
      </section>

      <section class="panel step-section" id="step-section-23" aria-labelledby="awarenessHeading">
        <div class="panel-head">
          <div>
            <p class="step-count">Step 23</p>
            <h2 id="awarenessHeading">Things to be aware of</h2>
          </div>
          <p class="panel-hint">Share key advisories and expectations with the customer.</p>
        </div>
        <div class="sectioned-fieldsets" id="awarenessSections" role="group" aria-labelledby="awarenessHeading"></div>
        <div class="section-nav">
          <button type="button" class="section-nav-button prev" data-nav="prev">Back</button>
        </div>
      </section>

          </div>
          <div class="step-pager" id="stepPager" hidden>
            <p class="step-progress" id="stepProgressLabel" aria-live="polite"></p>
            <div class="step-pager-actions">
              <button type="button" class="step-pager-button is-prev" data-pager="prev">Previous step</button>
              <button type="button" class="step-pager-button is-next" data-pager="next">Next step</button>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>

  <script src="app.js" type="module"></script>
</body>
</html>
